### Ffuf
https://terokarvinen.com/2023/fuzz-urls-find-hidden-directories/
#### Vaiheet
MUISTA, kaksi äffää alussa!

- tarvitaan sanakirja
- katso parametrit ./ffuf -> KUN OLET BIN-kansiossa (kokeile | less tai & less)
- __./ffuf -w common.txt -u http://1270.0.0.2:800/FUZZ__
- eli -w worldist ja -u target url
- nyt siis fuzzataan wordlista sinne urlinperään
- jos näkyy pelkkiä status-Ok niin filteröidään

FILTER OPTIONS:
 -fc Filter HTTP __status codes__ from response. Comma separated list of codes and ranges
 -fl Filter by __amount of lines__ in response. Comma separated list of line counts and ranges
 -fmode Filter set operator. Either of: and, or (default: or)
 -fr Filter regexp
 -fs Filter __HTTP response size__. Comma separated list of sizes and ranges
 -ft Filter by __number of milliseconds__ to the first response byte, either greater or less than. EG: >100 or <10
 -fw Filter by __amount of words__ in response. Comma separated list of word counts and ranges

esim. `./ffuf -w common.txt -u http://127.0.0.2:8000/FUZZ -fs 132`  
eli ottaa pois ne, jotka ovat 132 tavua


## Quick flags reminder

* `-u` URL (use `FUZZ` in path or in headers/body)
* `-w` wordlist (`wordlist[:placeholder]` for multiple `-w`)
* `-H` add header (can include `FUZZ`)
* `-d` request body (for POST; include `FUZZ` where needed)
* `-X` HTTP method (e.g. `POST`)
* `-mode` `clusterbomb` / `pitchfork` / `sniper`
* `-mc` match status codes (e.g. `-mc 200,301`)
* `-fc` filter status codes (e.g. `-fc 404`)
* `-fs` filter by response size
* `-fw` filter by word count
* `-fl` filter by line count
* `-o` output file, `-of` output format (`json`, `html`, `e` etc.)

* Show only 200s: `-mc 200`
* Exclude 404s: `-fc 404`
* Exclude responses of size 0 or specific sizes: `-fs 0` / `-fs 1234`
* Filter by number of words: `-fw 0`

Suoritin ffufin komennolla `ffuf -w common.txt -u http://127.0.0.2:8000/FUZZ`. Yritin ensin ajaa sitä samassa komentokehoteikkunassa, kunnes muistin, että __piti avata toinen ikkuna__.

Filtteröin tuloksia pituuden mukaan, ja koska 154 oli yleinen pituus, niin käytin sitä filtteriehtona. `ffuf -w common.txt -u http://127.0.0.2:8000/FUZZ -fs 154`

Vinkki: kokeile `curl -i http.....git/HEAD`, joka löytyy kaikista gittirepoista

__Tsekkaa aina /robots.txt__

__Tsekkaa näkyy javascriptissä jotain (esim. url)__

__Tsekkaa toimiiko /ADMIN/DELETEUSER vaikka /admin/deleteuser ei toimi__

/admin/deleteUser.anything saattaa mätsätä /admin/deleteUser

tai jopa viimeinen / tai ilman


Sivulla piti laittaa salasana ja "reveal my password" näytti oliko se oikein. Syöttökenttä hyväksyi vain numeroita, mutta se oli selaimen tekemä rajoitus. Inspectorilla näkyi <input type="number" name="pin" value="0">. Siihen pystyy esim. laittamaan type="string" tai "text"


```sql
SELECT password FROM pins WHERE pin = '0' OR 1=1 -- ';
```
* Many DBs require a space after `--` (use `-- `). MySQL accepts `#` as a line comment. Block comments `/* ... */` work across many DBs.

If the application constructs the query without quotes (e.g., `WHERE pin = 0`), you **must not** start with a quote. Instead use unquoted logic:

```
0 OR 1=1 --
```



* Inspect whether the application uses quotes around the parameter. If yes, start with `'` to close the string; if no, do not use the initial quote.
* Add injected logic (e.g., `OR 1=1` or a boolean condition targeting a field).
* Add a comment token (`-- `, `#`, or `/*`) to swallow the trailing characters.
* To extract specific rows, use `LIMIT offset,count` or `LIMIT count OFFSET offset`.
* URL-encode spaces and punctuation when sending via HTTP (`%20` for space, etc.).

* `ORDER BY id ASC` → sorts rows by the `id` column in ascending order.
* `LIMIT 1 OFFSET 2` → skip the first 2 rows, return 1.
This guarantees you get the *third* row by id.

| Goal                               | Recommended syntax                        |
| ---------------------------------- | ----------------------------------------- |
| Deterministic single-row selection | `ORDER BY id ASC LIMIT 1 OFFSET n`        |
| MySQL shorthand                    | `ORDER BY id ASC LIMIT n,1`               |
| Paginate efficiently               | Keyset pattern using `WHERE id > last_id` |














